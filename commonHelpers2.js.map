{"version":3,"file":"commonHelpers2.js","sources":["../src/js/02-video.js"],"sourcesContent":["import Player from '@vimeo/player';\nimport throttle from 'lodash.throttle';\n\nconst iframe = document.querySelector('iframe');\nconst player = new Player(iframe);\n\n// Функція для збереження часу відтворення у локальному сховищі\nfunction saveCurrentTime(time) {\n  localStorage.setItem('videoplayer-current-time', time);\n}\n\n// Функція для встановлення часу відтворення плеєра зі збереженої позиції\nfunction restoreCurrentTime() {\n  const currentTime = localStorage.getItem('videoplayer-current-time');\n  if (currentTime) {\n    player.setCurrentTime(parseFloat(currentTime));\n  }\n}\n\n// Відстежування події timeupdate плеєра з використанням throttle\nplayer.on(\n  'timeupdate',\n  throttle(function (data) {\n    saveCurrentTime(data.seconds);\n  }, 1000)\n); // Оновлення не частіше, ніж раз на секунду (1000 мс)\n\n// Відновлення часу відтворення при завантаженні сторінки\nwindow.addEventListener('load', function () {\n  restoreCurrentTime();\n});\n"],"names":["iframe","player","Player","saveCurrentTime","time","restoreCurrentTime","currentTime","throttle","data"],"mappings":"+IAGA,MAAMA,EAAS,SAAS,cAAc,QAAQ,EACxCC,EAAS,IAAIC,EAAOF,CAAM,EAGhC,SAASG,EAAgBC,EAAM,CAC7B,aAAa,QAAQ,2BAA4BA,CAAI,CACvD,CAGA,SAASC,GAAqB,CAC5B,MAAMC,EAAc,aAAa,QAAQ,0BAA0B,EAC/DA,GACFL,EAAO,eAAe,WAAWK,CAAW,CAAC,CAEjD,CAGAL,EAAO,GACL,aACAM,EAAS,SAAUC,EAAM,CACvBL,EAAgBK,EAAK,OAAO,CAC7B,EAAE,GAAI,CACT,EAGA,OAAO,iBAAiB,OAAQ,UAAY,CAC1CH,GACF,CAAC"}